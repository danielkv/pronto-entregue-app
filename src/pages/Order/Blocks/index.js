import React from 'react';
import { Icon } from 'react-native-elements';

import theme from '../../../theme';
import {
	Container,
	Block,
	BlocksRow,
	BlockIcon,
	BlockHeader,
	BlockTitle,
	BlockFooter,
	BlockInfo,
} from './styles';

export default function Blocks({ order }) {
	return (
		<Container>
			<BlocksRow>
				<Block>
					<BlockHeader>
						<BlockIcon><Icon type='material-community' name='calendar' color={theme.palette.primary.main} /></BlockIcon>
						<BlockTitle>Data</BlockTitle>
					</BlockHeader>
					<BlockFooter>
						<BlockInfo h1>{order.createdDate}</BlockInfo>
						<BlockInfo h3>{order.createdTime}</BlockInfo>
					</BlockFooter>
				</Block>
				<Block>
					<BlockHeader>
						<BlockIcon><Icon type='material-community' name='currency-usd' color={theme.palette.primary.main} /></BlockIcon>
						<BlockTitle>Valor total</BlockTitle>
					</BlockHeader>
					<BlockFooter>
						<BlockInfo h1>{`R$ ${order.price.toFixed(2).replace('.', ',')}`}</BlockInfo>
					</BlockFooter>
				</Block>
			</BlocksRow>
			<BlocksRow>
				<Block>
					<BlockHeader>
						<BlockIcon><Icon type='material-community' name='credit-card' color={theme.palette.primary.main} /></BlockIcon>
						<BlockTitle>Pagamento</BlockTitle>
					</BlockHeader>
					<BlockFooter>
						{!!order.payment_fee && <BlockInfo h4>{`R$ ${order.payment_fee.toFixed(2).replace('.', ',')}`}</BlockInfo>}
						<BlockInfo h1>{order.payment_method.display_name}</BlockInfo>
					</BlockFooter>
				</Block>
				<Block>
					<BlockHeader>
						<BlockIcon><Icon type='material-community' name='truck' color={theme.palette.primary.main} /></BlockIcon>
						<BlockTitle>Entrega</BlockTitle>
					</BlockHeader>
					<BlockFooter>
						<BlockInfo h4>{order.type === 'takeout' ? 'Retirada no local' : `${order.street}, ${order.number}`}</BlockInfo>
						{!!order.delivery_price && <BlockInfo h1>{`R$ ${order.delivery_price.toFixed(2).replace('.', ',')}`}</BlockInfo>}
					</BlockFooter>
				</Block>
			</BlocksRow>
		</Container>
	);
}
